---
layout: post
title: '11.11借光棍节各种优惠和各种坑爹'
date: 2011-11-11 00:39
comments: true
tags: ['cache','商城','数据库']
---

其实没有优惠也没有什么关系.但是不能将原价调高一倍，然后对消费者说打五折。淘宝商城是一个很有趣的地方，它让我懂得真正五折优惠是什么含义。  
淘宝商城做了下面几件事：  
1\. 首先打出5折的口号，让大家知道打折。  
2\. 在快到时间的前十至十五分钟页面禁止购买。这个时候页面链接到的数据库表/块应该还是原来的。  
3\. 时间一到，切换到新的数据表或者数据块。  
当然应该有更简单的策略。例如cache,因为各种宣传要降价的产品其实不多，完全可以使用cache将这些页面缓存起来，因为有十至十五分钟无法购买时间，其实和静
态页面的效果一致。时间已过，页面cache失效，重新读取后台的数据，这时数据已经变了。这种策略只不过加了一张临时表格或者map存储相关数据，对原本的逻辑没有
大改动。推荐时常使用。  
技术上咋样都可以，但是不能坑爹。这样大家会骂的...  
另外京东就没有啥技术了..买一赠一...买一个电脑赠一个纸箱，买一个电视机赠送一盒塑料泡沫，买一个京东赠一个淘宝。

